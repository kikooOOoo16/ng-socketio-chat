<ng-template appPlaceholder></ng-template>
<div *ngIf="isLoading"  class="loading-spinner d-flex justify-content-center align-items-center">
  <app-loading-spinner></app-loading-spinner>
</div>
<div *ngIf="!isLoading" class="container">
  <div class="row m-5 col-lg-10 no-gutters shadow-lg">
    <div class="col-md-6 col-lg-5 col-xl-4 px-0 d-none d-md-block">
      <img
        src="https://images.unsplash.com/photo-1566888596782-c7f41cc184c5?ixlib=rb-1.2.1&auto=format&fit=crop&w=2134&q=80"
        class="img-fluid" style="min-height:100%;"/>
    </div>
    <div class="col-md-6 col-lg-7 col-xl-8 bg-white p-5">
      <h3 class="pb-3 text-center">{{ isSignInMode ? 'Sign In' : 'Sign Up'}}</h3>
      <div class="form-style">
        <form *ngIf="isSignInMode; else signupForm;" [formGroup]="signInForm" (ngSubmit)="authFormSubmit()">
          <div class="form-group pb-3">
            <input type="email" formControlName="email" placeholder="Email" class="form-control">
            <p class="invalid-input-msg"
               *ngIf="signInForm.get('email')!.touched && signInForm.get('email')!.invalid">Please enter a
              valid email.
            </p>
          </div>
          <div class="form-group pb-3">
            <input type="password" formControlName="password" placeholder="Password" class="form-control">
            <p class="invalid-input-msg"
               *ngIf="signInForm.get('password')!.touched && signInForm.get('password')!.invalid">Please enter
              a valid password.
            </p>
          </div>
          <div class="pb-2">
            <button type="submit" [disabled]="!signInForm.valid"
                    class="btn btn-dark w-100 font-weight-bold mt-2">{{ isSignInMode ? 'Sign In' : 'Sign Up'}}</button>
          </div>
        </form>
        <ng-template #signupForm>
          <form *ngIf="!isSignInMode" [formGroup]="signUpForm" (ngSubmit)="authFormSubmit()">
            <div class="form-group pb-3">
              <div class="form-group pb-3">
                <input type="text" formControlName="name" placeholder="Name" class="form-control">
                <p class="invalid-input-msg"
                   *ngIf="signUpForm.get('name')!.touched && signUpForm.get('name')!.invalid">Please enter
                  a valid username.
                </p>
              </div>
              <input type="email" formControlName="email" placeholder="Email" class="form-control">
              <p class="invalid-input-msg"
                 *ngIf="signUpForm.get('email')!.touched && signUpForm.get('email')!.invalid">Please enter a
                valid email.
              </p>
            </div>
            <div class="form-group pb-3">
              <input type="password" formControlName="password" placeholder="Password" class="form-control">
              <p class="invalid-input-msg"
                 *ngIf="signUpForm.get('password')!.touched && signUpForm.get('password')!.invalid">Please enter
                a valid password.
              </p>
            </div>
            <div class="pb-2">
              <button type="submit" [disabled]="!signUpForm.valid"
                      class="btn btn-dark w-100 font-weight-bold mt-2">{{ isSignInMode ? 'Sign In' : 'Sign Up'}}</button>
            </div>
          </form>
        </ng-template>
        <div class="pt-4 text-center auth-form-footer-text">
          <p *ngIf="isSignInMode" class="text-muted">Don't have an account yet? <br>
            <a (click)="onSwitchMode()"> Sign Up </a>
          </p>
          <p *ngIf="!isSignInMode" class="text-muted">Already have an account? <br>
            <a (click)="onSwitchMode()"> Sign In </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
